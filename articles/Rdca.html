<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rdca Package • Rdca</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Rdca Package">
<meta property="og:description" content="Rdca">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rdca</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Rdca.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Rdca Package</h1>
            
      
      
      <div class="hidden name"><code>Rdca.Rmd</code></div>

    </div>

    
    
<div id="rdca" class="section level2">
<h2 class="hasAnchor">
<a href="#rdca" class="anchor"></a><code>Rdca</code>
</h2>
<p><code>Rdca</code> is a Decline Curve Analysis (DCA) package for oil and gas reservoirs. It generates a table of rate, cumulative, nominal decline rate, and derivative of loss-ratio over time in a data frame format. It also provides an optimization tool to fit a DCA model on production data. The package currently supports Arps ‘exponential’, ‘harmonic’, ‘hyperbolic’, and ‘modified_hyperbolic’ models <span class="citation">(Arps, 1945; Robertson, 1988)</span>.</p>
<p>DCA predictions are generated using three different functions: <code><a href="../reference/decline_param.html">decline_param()</a></code>, <code><a href="../reference/decline_time.html">decline_time()</a></code>, and <code><a href="../reference/decline_predict.html">decline_predict()</a></code>. There are two more functions for the curve fitting exercises: <code><a href="../reference/decline_fit_param.html">decline_fit_param()</a></code>, and <code><a href="../reference/decline_fit.html">decline_fit()</a></code>.</p>
</div>
<div id="decline_param-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#decline_param-arguments" class="anchor"></a><code>decline_param() arguments</code>
</h2>
<ul>
<li>
<code>input_unit</code>: A unit system for input parameters, either ‘Field’ or ‘SI’.</li>
<li>
<code>output_unit</code>: A unit system for output predictions, either ‘Field’ or ‘SI’.</li>
<li>
<code>fluid</code>: Type of fluid, either ‘gas’ or ‘oil’.</li>
<li>
<code>model</code>: Arps DCA model.</li>
<li>
<code>qi</code>: Arps model parameter, initial rate.</li>
<li>
<code>Di</code>: Arps model parameter, nominal decline rate.</li>
<li>
<code>b</code>: Arps model parameter, decline constant.</li>
<li>
<code>Dt</code>: Arps modified_hyperbolic model parameter, terminal nominal decline rate.</li>
<li>
<code>q_abnd</code>: Abandonment rate, an optional input parameter. If assigned a value, the model predicts time to reach to the abandonment rate, and also the estimated ultimate recovery (EUR).</li>
</ul>
</div>
<div id="decline_time-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#decline_time-arguments" class="anchor"></a><code>decline_time() arguments</code>
</h2>
<ul>
<li>
<code>x</code>: A vector or sequence of times/dates.</li>
<li>
<code>unit</code>: A unit system for input vector x.</li>
</ul>
</div>
<div id="decline_predict-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#decline_predict-arguments" class="anchor"></a><code>decline_predict() arguments</code>
</h2>
<ul>
<li>
<code>decline_lst</code>: A list of decline parameters of class ‘decline’.</li>
<li>
<code>time_lst</code>: A list of decline time of class ‘time/date’.</li>
</ul>
</div>
<div id="decline_fit_param-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#decline_fit_param-arguments" class="anchor"></a><code>decline_fit_param() arguments</code>
</h2>
<ul>
<li>
<code>input_unit</code>: A unit system for input parameters, either ‘Field’ or ‘SI’.</li>
<li>
<code>output_unit</code>: A unit system for output predictions, either ‘Field’ or ‘SI’.</li>
<li>
<code>fluid</code>: Type of fluid, either ‘gas’ or ‘oil’.</li>
<li>
<code>model</code>: Arps DCA model.</li>
<li>
<code>fit_data</code>: Fitting data, either ‘rate’ or ‘cum’.</li>
<li>
<code>prod_data</code>: A numeric vector of fitting data.</li>
<li>
<code>initial_param</code>: A vector of initial estimates for the Arps DCA model parameters.</li>
<li>
<code>lower</code>: A vector of lower bounds for the Arps DCA model parameters, optional. See package <code>minpack.lm</code> for more information.</li>
<li>
<code>upper</code>: A vector of upper bounds for the Arps DCA model parameters, optional. See package <code>minpack.lm</code> for more information.</li>
<li>
<code>control</code>: An optional list of control settings in the optimization toolbox. See package <code>minpack.lm</code> for more information.</li>
</ul>
</div>
<div id="decline_fit-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#decline_fit-arguments" class="anchor"></a><code>decline_fit() arguments</code>
</h2>
<ul>
<li>
<code>decline_fit_lst</code>: A list of decline fit parameters of class ‘decline_fit’.</li>
<li>
<code>time_lst</code>: A list of decline time of class ‘time/date’.</li>
</ul>
</div>
<div id="units-for-input-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#units-for-input-parameters" class="anchor"></a><code>Units</code> for input parameters</h2>
<p>The input_unit is either ‘SI’ or ‘Field’. Depending on the input_unit system, the following units are used for the input parameters:</p>
<ul>
<li>
<code>qi</code>: Arp’s decline parameter, a numeric value. Depending on the ‘input_unit’, ‘fluid’ type, and also the decline_time() ‘unit’ parameter, it has different units. ‘m3/day’ for gas production in ‘SI’ unit with daily data, ‘m3/month’ for gas production in ‘SI’ unit with monthly data, ‘MSCF/day’ for gas production in ‘Field’ unit with daily data, ‘MSCF/month’ for gas production in ‘Field’ unit with monthly data, ‘m3/day’ for oil production in ‘SI’ unit with daily data, ‘m3/month’ for oil production in ‘SI’ unit with monthly data, ‘bbl/day’ for oil production in ‘Field’ unit with daily data, and ‘bbl/month’ for oil production in ‘Field’ unit with monthly data.</li>
<li>
<code>Di</code>: Arp’s nominal decline parameter, a numeric value in ‘1/day’, ‘1/month’, or ‘1/year’ depending on the decline_time() ‘unit’ parameter.</li>
<li>
<code>b</code>: Arp’s decline parameter. It is zero for the ‘exponential’ model, one for the ‘harmonic’ model, and a value between zero and one for the ‘hyperbolic’ model. For unconventional reservoirs, b values more than one are also reported.</li>
<li>
<code>Dt</code>: Arp’s ‘modified_hyperbolic’ nominal terminal decline parameter, a numeric value in ‘1/day’, ‘1/month’, or ‘1/year’ depending on the decline_time() ‘unit’ input.</li>
<li>
<code>q_abnd</code>: Abandonment rate, a numeric value defaulted to NULL. If present, the model predicts the time to reach to the abandonment rate and also the estimated ultimate recovery (EUR) till the abandonment time. It has the same unit as ‘qi’.</li>
<li>
<code>unit</code>: time/date unit for the x vector. For a vector of time values, the unit is ‘day’, ‘month’, or ‘year’. For a sequence of dates, the unit is ‘date’. Daily parameters must be used with the ‘date’ unit in the DCA.</li>
</ul>
</div>
<div id="outputs" class="section level2">
<h2 class="hasAnchor">
<a href="#outputs" class="anchor"></a>Outputs</h2>
<ul>
<li>
<code>Date</code>: Date</li>
<li>
<code>Time</code>: Time</li>
<li>
<code>q</code>: Production rate</li>
<li>
<code>Q</code>: Cumulative production</li>
<li>
<code>D</code>: Nominal decline rate (1/loss-ratio)</li>
<li>
<code>Beta</code>: Loss-ratio derivative wrt time</li>
<li>
<code>time_abnd</code>: Time to reach to the abandonment rate (if ‘abnd_rate’ is provided)</li>
<li>
<code>EUR</code>: Estimated ultimate recovery at abandonment rate (if ‘abnd_rate’ is provided)</li>
</ul>
</div>
<div id="a-note-on-di" class="section level2">
<h2 class="hasAnchor">
<a href="#a-note-on-di" class="anchor"></a>A note on <code>Di</code>
</h2>
<p>Arps <code>Di</code> parameter is the nominal decline rate in ‘1/day’, ‘1/month’, or ‘1/year’. It represents the rate of decline at a specific time. However, the rate of decline is often expressed for a particular period (usually one year) and is called the effective decline rate <code>(di)</code> in ‘1/year’. The relationship between <code>Di</code> and <code>di</code> for Arps models are as follows:</p>
<ul>
<li>Exponential</li>
</ul>
<p><span class="math display">\[D_{i} = \frac{-log(1 - d_{i})}{365}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{day}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = \frac{-log(1 - d_{i})}{12}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{month}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = -log(1 - d_{i}) \:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{year}\]</span><br><br></p>
<ul>
<li>Harmonic</li>
</ul>
<p><span class="math display">\[D_{i} = \frac{d_{i}}{(1 - d_{i}) . 365}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{day}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = \frac{d_{i}}{(1 - d_{i}) . 12}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{month}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = \frac{d_{i}}{(1 - d_{i})}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{year}\]</span><br><br></p>
<ul>
<li>Hyperbolic</li>
</ul>
<p><span class="math display">\[D_{i} = \frac{1}{b}.\frac{[(1 - d_{i})^{-b} - 1]}{365}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{day}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = \frac{1}{b}.\frac{[(1 - d_{i})^{-b} - 1]}{12}\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{month}\]</span><br><br></p>
<p><span class="math display">\[D_{i} = \frac{1}{b}.[(1 - d_{i})^{-b} - 1]\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\:\: \frac{1}{year}\]</span><br><br></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a><code>Installation</code>
</h2>
<p>The <code>Rdca</code> can be installed from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"Rdca"</span>)</pre></body></html></div>
</div>
<div id="arps-exponential-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#arps-exponential-examples" class="anchor"></a><code>Arps Exponential Examples</code>
</h2>
<div id="example-1" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1" class="anchor"></a>Example 1:</h4>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggpubr</span>)

<span class="no">dcl_param_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"exponential"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">1000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.0015</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="kw">NULL</span>)

<span class="no">dcl_param_exp</span>
<span class="co">#&gt; $input_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $output_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fluid</span>
<span class="co">#&gt; [1] "oil"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qi</span>
<span class="co">#&gt; [1] 1000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Di</span>
<span class="co">#&gt; [1] 0.0015</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "exponential" "decline"</span>

<span class="no">decline_time_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>:<span class="fl">7300</span>), <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"day"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">decline_time_exp</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ t             : int [1:7300] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ unit          : chr "day"</span>
<span class="co">#&gt;  $ reference_date: Date[1:1], format: "2020-05-25"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "day" "time"</span>

<span class="no">decline_predict_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_exp</span>, <span class="no">decline_time_exp</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">decline_predict_exp</span>, <span class="fl">10</span>)
<span class="co">#&gt;          Date Time_(day) q_(bbl/day)   Q_(bbl) D_(1/day) Beta</span>
<span class="co">#&gt; 1  2020-05-25          1    998.5011  999.2504    0.0015    0</span>
<span class="co">#&gt; 2  2020-05-26          2    997.0045 1997.0030    0.0015    0</span>
<span class="co">#&gt; 3  2020-05-27          3    995.5101 2993.2601    0.0015    0</span>
<span class="co">#&gt; 4  2020-05-28          4    994.0180 3988.0240    0.0015    0</span>
<span class="co">#&gt; 5  2020-05-29          5    992.5281 4981.2968    0.0015    0</span>
<span class="co">#&gt; 6  2020-05-30          6    991.0404 5973.0808    0.0015    0</span>
<span class="co">#&gt; 7  2020-05-31          7    989.5549 6963.3783    0.0015    0</span>
<span class="co">#&gt; 8  2020-06-01          8    988.0717 7952.1914    0.0015    0</span>
<span class="co">#&gt; 9  2020-06-02          9    986.5907 8939.5225    0.0015    0</span>
<span class="co">#&gt; 10 2020-06-03         10    985.1119 9925.3736    0.0015    0</span>

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(bbl/day)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"green4"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(bbl)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"green4"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">exp_plots</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggpubr/man/ggarrange.html">ggarrange</a></span>(<span class="no">p1</span>, <span class="no">p2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">align</span> <span class="kw">=</span> <span class="st">"v"</span>)

<span class="no">exp_plots</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="example-2" class="section level4">
<h4 class="hasAnchor">
<a href="#example-2" class="anchor"></a>Example 2:</h4>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggpubr</span>)

<span class="no">dcl_param_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"gas"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"exponential"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">75000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.03</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="fl">1000</span>)

<span class="no">dcl_param_exp</span>
<span class="co">#&gt; $input_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $output_unit</span>
<span class="co">#&gt; [1] "SI"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fluid</span>
<span class="co">#&gt; [1] "gas"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qi</span>
<span class="co">#&gt; [1] 75000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Di</span>
<span class="co">#&gt; [1] 0.03</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $q_abnd</span>
<span class="co">#&gt; [1] 1000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "exponential" "decline"</span>

<span class="no">decline_time_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>:<span class="fl">360</span>), <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"month"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">decline_time_exp</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ t             : int [1:360] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ unit          : chr "month"</span>
<span class="co">#&gt;  $ reference_date: Date[1:1], format: "2020-05-25"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "month" "time"</span>

<span class="no">decline_predict_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_exp</span>, <span class="no">decline_time_exp</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">decline_predict_exp</span>, <span class="fl">10</span>)
<span class="co">#&gt;          Date Time_(month) q_(m3/month)   Q_(m3) D_(1/month) Beta</span>
<span class="co">#&gt; 1  2020-05-25            1      2060997  2092223        0.03    0</span>
<span class="co">#&gt; 2  2020-06-24            2      2000085  4122612        0.03    0</span>
<span class="co">#&gt; 3  2020-07-24            3      1940974  6092994        0.03    0</span>
<span class="co">#&gt; 4  2020-08-24            4      1883609  8005142        0.03    0</span>
<span class="co">#&gt; 5  2020-09-23            5      1827940  9860777        0.03    0</span>
<span class="co">#&gt; 6  2020-10-24            6      1773916 11661570        0.03    0</span>
<span class="co">#&gt; 7  2020-11-23            7      1721489 13409142        0.03    0</span>
<span class="co">#&gt; 8  2020-12-23            8      1670612 15105065        0.03    0</span>
<span class="co">#&gt; 9  2021-01-23            9      1621237 16750866        0.03    0</span>
<span class="co">#&gt; 10 2021-02-22           10      1573323 18348027        0.03    0</span>
<span class="co">#&gt;    time_abnd_(months) EUR_(m3)</span>
<span class="co">#&gt; 1            143.9163 69848221</span>
<span class="co">#&gt; 2            143.9163 69848221</span>
<span class="co">#&gt; 3            143.9163 69848221</span>
<span class="co">#&gt; 4            143.9163 69848221</span>
<span class="co">#&gt; 5            143.9163 69848221</span>
<span class="co">#&gt; 6            143.9163 69848221</span>
<span class="co">#&gt; 7            143.9163 69848221</span>
<span class="co">#&gt; 8            143.9163 69848221</span>
<span class="co">#&gt; 9            143.9163 69848221</span>
<span class="co">#&gt; 10           143.9163 69848221</span>

<span class="no">time_abnd</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span>$<span class="no">`time_abnd_(months)`</span>[<span class="fl">1</span>]
<span class="no">EUR</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span>$<span class="no">`EUR_(m3)`</span>[<span class="fl">1</span>]

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(m3/month)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(months)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">10</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">5e5</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="fl">1e6</span> / <span class="fl">35.3147</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">3e6</span> / <span class="fl">35.3147</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"rate_abnd"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_exp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(m3)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(months)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">10</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">6e7</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="no">`EUR_(m3)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">1.02</span> * <span class="no">EUR</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"EUR"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">exp_plots</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggpubr/man/ggarrange.html">ggarrange</a></span>(<span class="no">p1</span>, <span class="no">p2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">align</span> <span class="kw">=</span> <span class="st">"v"</span>)

<span class="no">exp_plots</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="example-3" class="section level4">
<h4 class="hasAnchor">
<a href="#example-3" class="anchor"></a>Example 3:</h4>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="no">dcl_time_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fl">1</span>:<span class="fl">1000</span>, <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"day"</span>)

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">123</span>)

<span class="no">prod_data</span> <span class="kw">&lt;-</span> <span class="fl">3000</span> * <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(-<span class="fl">0.00234</span> * <span class="no">dcl_time_exp</span>$<span class="no">t</span>) + <span class="fl">50</span> * <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">1000</span>)

<span class="no">field_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">time</span> <span class="kw">=</span> <span class="no">dcl_time_exp</span>$<span class="no">t</span>, <span class="kw">q</span> <span class="kw">=</span> <span class="no">prod_data</span>)

<span class="no">dcl_fit_param_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit_param.html">decline_fit_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>,
                                       <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>, <span class="kw">model</span> <span class="kw">=</span> <span class="st">"exponential"</span>,
                                       <span class="kw">fit_data</span> <span class="kw">=</span> <span class="st">"rate"</span>, <span class="kw">prod_data</span> <span class="kw">=</span> <span class="no">prod_data</span>,
                                       <span class="kw">initial_param</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3000</span>, <span class="fl">0.001</span>, <span class="fl">0</span>), <span class="kw">lower</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                                       <span class="kw">upper</span> <span class="kw">=</span> <span class="kw">NULL</span>)

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_param_exp</span>)
<span class="co">#&gt; List of 10</span>
<span class="co">#&gt;  $ input_unit        : chr "Field"</span>
<span class="co">#&gt;  $ output_unit       : chr "Field"</span>
<span class="co">#&gt;  $ fluid             : chr "oil"</span>
<span class="co">#&gt;  $ model             : chr "exponential"</span>
<span class="co">#&gt;  $ fit_data          : chr "rate"</span>
<span class="co">#&gt;  $ prod_data         : num [1:1000] 2965 2974 3057 2976 2972 ...</span>
<span class="co">#&gt;  $ initial_parameters: num [1:3] 3e+03 1e-03 0e+00</span>
<span class="co">#&gt;  $ lower             : NULL</span>
<span class="co">#&gt;  $ upper             : NULL</span>
<span class="co">#&gt;  $ control           : NULL</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "exponential_fit" "decline_fit"</span>

<span class="no">dcl_fit_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit.html">decline_fit</a></span>(<span class="no">dcl_fit_param_exp</span>, <span class="no">dcl_time_exp</span>)

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_exp</span>)
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ input_unit : chr "Field"</span>
<span class="co">#&gt;  $ output_unit: chr "Field"</span>
<span class="co">#&gt;  $ fluid      : chr "oil"</span>
<span class="co">#&gt;  $ qi         : num 3007</span>
<span class="co">#&gt;  $ Di         : num 0.00234</span>
<span class="co">#&gt;  $ b          : num 0</span>
<span class="co">#&gt;  - attr(*, "nls.out")=List of 9</span>
<span class="co">#&gt;   ..$ par     : num [1:3] 3.01e+03 2.34e-03 0.00</span>
<span class="co">#&gt;   ..$ hessian : num [1:3, 1:3] 1.93e+06 -1.26e+12 0.00 -1.26e+12 1.48e+18 ...</span>
<span class="co">#&gt;   ..$ fvec    : num [1:1000] 1.20e+03 3.27e+02 5.09e+03 9.10 3.07e-03 ...</span>
<span class="co">#&gt;   ..$ info    : int 1</span>
<span class="co">#&gt;   ..$ message : chr "Relative error in the sum of squares is at most `ftol'."</span>
<span class="co">#&gt;   ..$ diag    :List of 3</span>
<span class="co">#&gt;   .. ..$ : num 28316</span>
<span class="co">#&gt;   .. ..$ : num 4.63e+10</span>
<span class="co">#&gt;   .. ..$ : num 1</span>
<span class="co">#&gt;   ..$ niter   : int 16</span>
<span class="co">#&gt;   ..$ rsstrace: num [1:17] 4.34e+14 4.47e+13 4.50e+12 4.69e+11 5.87e+10 ...</span>
<span class="co">#&gt;   ..$ deviance: num 1.76e+10</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "nls.lm"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "exponential" "decline"</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_exp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>))
<span class="co">#&gt; [1] "par"      "hessian"  "fvec"     "info"     "message"  "diag"     "niter"   </span>
<span class="co">#&gt; [8] "rsstrace" "deviance"</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_exp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">par</span>
<span class="co">#&gt; [1] 3.006632e+03 2.342344e-03 0.000000e+00</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_exp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">info</span>
<span class="co">#&gt; [1] 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_exp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">niter</span>
<span class="co">#&gt; [1] 16</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_exp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">deviance</span>
<span class="co">#&gt; [1] 17605349306</span>

<span class="no">dcl_predict_exp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_fit_exp</span>, <span class="no">dcl_time_exp</span>)

<span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(bbl/day)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_exp</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (days)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Rate (bbl/day)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()</pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-5-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="arps-harmonic-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#arps-harmonic-examples" class="anchor"></a><code>Arps Harmonic Examples</code>
</h2>
<div id="example-1-1" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1-1" class="anchor"></a>Example 1:</h4>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggpubr</span>)

<span class="no">dcl_param_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"harmonic"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">1000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.075</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="fl">50</span>)

<span class="no">dcl_param_harm</span>
<span class="co">#&gt; $input_unit</span>
<span class="co">#&gt; [1] "SI"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $output_unit</span>
<span class="co">#&gt; [1] "SI"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fluid</span>
<span class="co">#&gt; [1] "oil"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qi</span>
<span class="co">#&gt; [1] 1000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Di</span>
<span class="co">#&gt; [1] 0.075</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $q_abnd</span>
<span class="co">#&gt; [1] 50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "harmonic" "decline"</span>

<span class="no">decline_time_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>:<span class="fl">360</span>), <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"month"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">decline_time_harm</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ t             : int [1:360] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ unit          : chr "month"</span>
<span class="co">#&gt;  $ reference_date: Date[1:1], format: "2020-05-25"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "month" "time"</span>

<span class="no">decline_predict_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_harm</span>, <span class="no">decline_time_harm</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">decline_predict_harm</span>, <span class="fl">10</span>)
<span class="co">#&gt;          Date Time_(month) q_(m3/month)    Q_(m3) D_(1/month) Beta</span>
<span class="co">#&gt; 1  2020-05-25            1     930.2326  964.2755  0.06976744    1</span>
<span class="co">#&gt; 2  2020-06-24            2     869.5652 1863.4926  0.06521739    1</span>
<span class="co">#&gt; 3  2020-07-24            3     816.3265 2705.8779  0.06122449    1</span>
<span class="co">#&gt; 4  2020-08-24            4     769.2308 3498.1902  0.05769231    1</span>
<span class="co">#&gt; 5  2020-09-23            5     727.2727 4246.0497  0.05454545    1</span>
<span class="co">#&gt; 6  2020-10-24            6     689.6552 4954.1808  0.05172414    1</span>
<span class="co">#&gt; 7  2020-11-23            7     655.7377 5626.5921  0.04918033    1</span>
<span class="co">#&gt; 8  2020-12-23            8     625.0000 6266.7151  0.04687500    1</span>
<span class="co">#&gt; 9  2021-01-23            9     597.0149 6877.5089  0.04477612    1</span>
<span class="co">#&gt; 10 2021-02-22           10     571.4286 7461.5438  0.04285714    1</span>
<span class="co">#&gt;    time_abnd_(months) EUR_(m3)</span>
<span class="co">#&gt; 1            253.3333  39943.1</span>
<span class="co">#&gt; 2            253.3333  39943.1</span>
<span class="co">#&gt; 3            253.3333  39943.1</span>
<span class="co">#&gt; 4            253.3333  39943.1</span>
<span class="co">#&gt; 5            253.3333  39943.1</span>
<span class="co">#&gt; 6            253.3333  39943.1</span>
<span class="co">#&gt; 7            253.3333  39943.1</span>
<span class="co">#&gt; 8            253.3333  39943.1</span>
<span class="co">#&gt; 9            253.3333  39943.1</span>
<span class="co">#&gt; 10           253.3333  39943.1</span>

<span class="no">time_abnd</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_harm</span>$<span class="no">`time_abnd_(months)`</span>[<span class="fl">1</span>]

<span class="no">EUR</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_harm</span>$<span class="no">`EUR_(m3)`</span>[<span class="fl">1</span>]

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_harm</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(m3/month)`</span>)) +
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"green4"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(months)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">10</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">250</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="fl">50</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">80</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"rate_abnd"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_harm</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(m3)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"green4"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(months)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">10</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">35000</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="no">`EUR_(m3)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">50</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">1.04</span> * <span class="no">EUR</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"EUR"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">harm_plots</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggpubr/man/ggarrange.html">ggarrange</a></span>(<span class="no">p1</span>, <span class="no">p2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">align</span> <span class="kw">=</span> <span class="st">"v"</span>)

<span class="no">harm_plots</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-6-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="example-2-1" class="section level4">
<h4 class="hasAnchor">
<a href="#example-2-1" class="anchor"></a>Example 2:</h4>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="no">dcl_time_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fl">1</span>:<span class="fl">360</span>, <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"month"</span>)

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">1234</span>)

<span class="no">prod_data</span> <span class="kw">&lt;-</span> <span class="fl">30000</span> / (<span class="fl">1</span> + <span class="fl">0.02</span> * <span class="no">dcl_time_harm</span>$<span class="no">t</span>) + <span class="fl">500</span> * <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">360</span>)   <span class="co"># rate</span>

<span class="no">field_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">time</span> <span class="kw">=</span> <span class="no">dcl_time_harm</span>$<span class="no">t</span>, <span class="kw">q</span> <span class="kw">=</span> <span class="no">prod_data</span>)

<span class="no">field_data</span>$<span class="no">Q</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span>(<span class="no">field_data</span>$<span class="no">q</span>)                              <span class="co"># cumulative</span>

<span class="no">dcl_fit_param_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit_param.html">decline_fit_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"gas"</span>,
                              <span class="kw">model</span> <span class="kw">=</span> <span class="st">"harmonic"</span>, <span class="kw">fit_data</span> <span class="kw">=</span> <span class="st">"cum"</span>, <span class="kw">prod_data</span> <span class="kw">=</span> <span class="no">field_data</span>$<span class="no">Q</span>,
                              <span class="kw">initial_param</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">40000</span>, <span class="fl">0.01</span>, <span class="fl">1</span>), <span class="kw">lower</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="kw">upper</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                              <span class="kw">control</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">maxiter</span> <span class="kw">=</span> <span class="fl">100</span>))

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_param_harm</span>)
<span class="co">#&gt; List of 10</span>
<span class="co">#&gt;  $ input_unit        : chr "SI"</span>
<span class="co">#&gt;  $ output_unit       : chr "SI"</span>
<span class="co">#&gt;  $ fluid             : chr "gas"</span>
<span class="co">#&gt;  $ model             : chr "harmonic"</span>
<span class="co">#&gt;  $ fit_data          : chr "cum"</span>
<span class="co">#&gt;  $ prod_data         : num [1:360] 28808 57793 86637 113242 140729 ...</span>
<span class="co">#&gt;  $ initial_parameters: num [1:3] 4e+04 1e-02 1e+00</span>
<span class="co">#&gt;  $ lower             : NULL</span>
<span class="co">#&gt;  $ upper             : NULL</span>
<span class="co">#&gt;  $ control           :List of 1</span>
<span class="co">#&gt;   ..$ maxiter: num 100</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "harmonic_fit" "decline_fit"</span>

<span class="no">dcl_fit_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit.html">decline_fit</a></span>(<span class="no">dcl_fit_param_harm</span>, <span class="no">dcl_time_harm</span>)

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_harm</span>)
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ input_unit : chr "SI"</span>
<span class="co">#&gt;  $ output_unit: chr "SI"</span>
<span class="co">#&gt;  $ fluid      : chr "gas"</span>
<span class="co">#&gt;  $ qi         : num 29176</span>
<span class="co">#&gt;  $ Di         : num 0.0192</span>
<span class="co">#&gt;  $ b          : num 1</span>
<span class="co">#&gt;  - attr(*, "nls.out")=List of 9</span>
<span class="co">#&gt;   ..$ par     : num [1:3] 2.92e+04 1.92e-02 1.00</span>
<span class="co">#&gt;   ..$ hessian : num [1:3, 1:3] 1.90e+13 -1.44e+19 0.00 -1.44e+19 1.12e+25 ...</span>
<span class="co">#&gt;   ..$ fvec    : num [1:360] 8473 281964 2347217 630556 2019041 ...</span>
<span class="co">#&gt;   ..$ info    : int 1</span>
<span class="co">#&gt;   ..$ message : chr "Relative error in the sum of squares is at most `ftol'."</span>
<span class="co">#&gt;   ..$ diag    :List of 3</span>
<span class="co">#&gt;   .. ..$ : num 9.25e+09</span>
<span class="co">#&gt;   .. ..$ : num 1.65e+16</span>
<span class="co">#&gt;   .. ..$ : num 1</span>
<span class="co">#&gt;   ..$ niter   : int 23</span>
<span class="co">#&gt;   ..$ rsstrace: num [1:24] 7.59e+27 6.29e+26 5.29e+25 4.31e+24 3.31e+23 ...</span>
<span class="co">#&gt;   ..$ deviance: num 9.54e+15</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "nls.lm"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "harmonic" "decline"</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_harm</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>))
<span class="co">#&gt; [1] "par"      "hessian"  "fvec"     "info"     "message"  "diag"     "niter"   </span>
<span class="co">#&gt; [8] "rsstrace" "deviance"</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_harm</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">par</span>
<span class="co">#&gt; [1] 2.917636e+04 1.916644e-02 1.000000e+00</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_harm</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">info</span>
<span class="co">#&gt; [1] 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_harm</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">niter</span>
<span class="co">#&gt; [1] 23</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_harm</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">deviance</span>
<span class="co">#&gt; [1] 9.540349e+15</span>

<span class="no">dcl_predict_harm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_fit_harm</span>, <span class="no">dcl_time_harm</span>)

<span class="no">p_cum</span> <span class="kw">&lt;-</span> <span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">Q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(m3)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_harm</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (months)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Cumulative Production (m3)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p_cum</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><html><body><pre class="r">
<span class="no">p_rate</span> <span class="kw">&lt;-</span> <span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(m3/month)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_harm</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (months)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Production Rate (m3/month)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p_rate</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-7-2.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="arps-hyperbolic-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#arps-hyperbolic-examples" class="anchor"></a><code>Arps Hyperbolic Examples</code>
</h2>
<div id="example-1-2" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1-2" class="anchor"></a>Example 1:</h4>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggpubr</span>)

<span class="no">dcl_param_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"gas"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"hyperbolic"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">100000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.0055</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">0.85</span>,
                               <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="fl">2000</span>)

<span class="no">dcl_param_hyp</span>
<span class="co">#&gt; $input_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $output_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fluid</span>
<span class="co">#&gt; [1] "gas"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qi</span>
<span class="co">#&gt; [1] 1e+05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Di</span>
<span class="co">#&gt; [1] 0.0055</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 0.85</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $q_abnd</span>
<span class="co">#&gt; [1] 2000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "hyperbolic" "decline"</span>

<span class="no">decline_time_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2000/1/1"</span>), <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2030/12/31"</span>), <span class="st">"days"</span>),
                                 <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"date"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">decline_time_hyp</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ t             : num [1:11323] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ unit          : chr "date"</span>
<span class="co">#&gt;  $ reference_date: Date[1:1], format: "2000-01-01"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "day" "time"</span>

<span class="no">decline_predict_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_hyp</span>, <span class="no">decline_time_hyp</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">decline_predict_hyp</span>, <span class="fl">10</span>)
<span class="co">#&gt;          Date Time_(day) q_(MSCF/day) Q_(MMSCF)   D_(1/day) Beta</span>
<span class="co">#&gt; 1  2000-01-01          1     99452.78  99.72593 0.005474407 0.85</span>
<span class="co">#&gt; 2  2000-01-02          2     98911.08 198.90741 0.005449051 0.85</span>
<span class="co">#&gt; 3  2000-01-03          3     98374.81 297.54991 0.005423929 0.85</span>
<span class="co">#&gt; 4  2000-01-04          4     97843.90 395.65882 0.005399038 0.85</span>
<span class="co">#&gt; 5  2000-01-05          5     97318.26 493.23947 0.005374374 0.85</span>
<span class="co">#&gt; 6  2000-01-06          6     96797.83 590.29708 0.005349934 0.85</span>
<span class="co">#&gt; 7  2000-01-07          7     96282.51 686.83683 0.005325716 0.85</span>
<span class="co">#&gt; 8  2000-01-08          8     95772.26 782.86379 0.005301716 0.85</span>
<span class="co">#&gt; 9  2000-01-09          9     95266.98 878.38300 0.005277931 0.85</span>
<span class="co">#&gt; 10 2000-01-10         10     94766.61 973.39938 0.005254359 0.85</span>
<span class="co">#&gt;    time_abnd_(days) EUR_(MMSCF)</span>
<span class="co">#&gt; 1          5733.712    53805.81</span>
<span class="co">#&gt; 2          5733.712    53805.81</span>
<span class="co">#&gt; 3          5733.712    53805.81</span>
<span class="co">#&gt; 4          5733.712    53805.81</span>
<span class="co">#&gt; 5          5733.712    53805.81</span>
<span class="co">#&gt; 6          5733.712    53805.81</span>
<span class="co">#&gt; 7          5733.712    53805.81</span>
<span class="co">#&gt; 8          5733.712    53805.81</span>
<span class="co">#&gt; 9          5733.712    53805.81</span>
<span class="co">#&gt; 10         5733.712    53805.81</span>

<span class="no">time_abnd</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_hyp</span>$<span class="no">`time_abnd_(days)`</span>[<span class="fl">1</span>]

<span class="no">EUR</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_hyp</span>$<span class="no">`EUR_(MMSCF)`</span>[<span class="fl">1</span>]

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_hyp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(MSCF/day)`</span>)) +
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(days)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">200</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">25000</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="fl">2000</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">7500</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">5000</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"rate_abnd"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_hyp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(MMSCF)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(days)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">200</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">4e4</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="no">`EUR_(MMSCF)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">8000</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">1.03</span> * <span class="no">EUR</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"EUR"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">hyp_plots</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggpubr/man/ggarrange.html">ggarrange</a></span>(<span class="no">p1</span>, <span class="no">p2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">align</span> <span class="kw">=</span> <span class="st">"v"</span>)

<span class="no">hyp_plots</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="example-2-2" class="section level4">
<h4 class="hasAnchor">
<a href="#example-2-2" class="anchor"></a>Example 2:</h4>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="no">dcl_time_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fl">1</span>:<span class="fl">10000</span>, <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"day"</span>)

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">321</span>)

<span class="no">prod_data</span> <span class="kw">&lt;-</span> <span class="fl">4500</span> / (<span class="fl">1</span> + <span class="fl">0.002</span> * <span class="fl">0.834</span> * <span class="no">dcl_time_hyp</span>$<span class="no">t</span>) ^ (<span class="fl">1</span> / <span class="fl">0.834</span>) +
  <span class="fl">25</span> * <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">10000</span>)   <span class="co"># rate</span>

<span class="no">field_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">time</span> <span class="kw">=</span> <span class="no">dcl_time_hyp</span>$<span class="no">t</span>, <span class="kw">q</span> <span class="kw">=</span> <span class="no">prod_data</span>)

<span class="no">dcl_fit_param_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit_param.html">decline_fit_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"gas"</span>,
                              <span class="kw">model</span> <span class="kw">=</span> <span class="st">"hyperbolic"</span>, <span class="kw">fit_data</span> <span class="kw">=</span> <span class="st">"rate"</span>, <span class="kw">prod_data</span> <span class="kw">=</span> <span class="no">prod_data</span>,
                              <span class="kw">initial_param</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1000</span>, <span class="fl">0.01</span>, <span class="fl">1.0</span>), <span class="kw">lower</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">1e-6</span>, <span class="fl">1e-6</span>),
                              <span class="kw">upper</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="kw">control</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">maxiter</span> <span class="kw">=</span> <span class="fl">100</span>))

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_param_hyp</span>)
<span class="co">#&gt; List of 10</span>
<span class="co">#&gt;  $ input_unit        : chr "Field"</span>
<span class="co">#&gt;  $ output_unit       : chr "Field"</span>
<span class="co">#&gt;  $ fluid             : chr "gas"</span>
<span class="co">#&gt;  $ model             : chr "hyperbolic"</span>
<span class="co">#&gt;  $ fit_data          : chr "rate"</span>
<span class="co">#&gt;  $ prod_data         : num [1:10000] 4534 4464 4466 4461 4452 ...</span>
<span class="co">#&gt;  $ initial_parameters: num [1:3] 1e+03 1e-02 1e+00</span>
<span class="co">#&gt;  $ lower             : num [1:3] 0e+00 1e-06 1e-06</span>
<span class="co">#&gt;  $ upper             : NULL</span>
<span class="co">#&gt;  $ control           :List of 1</span>
<span class="co">#&gt;   ..$ maxiter: num 100</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "hyperbolic_fit" "decline_fit"</span>

<span class="no">dcl_fit_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit.html">decline_fit</a></span>(<span class="no">dcl_fit_param_hyp</span>, <span class="no">dcl_time_hyp</span>)

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_hyp</span>)
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ input_unit : chr "Field"</span>
<span class="co">#&gt;  $ output_unit: chr "Field"</span>
<span class="co">#&gt;  $ fluid      : chr "gas"</span>
<span class="co">#&gt;  $ qi         : num 4500</span>
<span class="co">#&gt;  $ Di         : num 0.002</span>
<span class="co">#&gt;  $ b          : num 0.833</span>
<span class="co">#&gt;  - attr(*, "nls.out")=List of 9</span>
<span class="co">#&gt;   ..$ par     : num [1:3] 4500.476 0.002 0.833</span>
<span class="co">#&gt;   ..$ hessian : num [1:3, 1:3] 1.02e+06 -1.16e+12 1.74e+09 -1.16e+12 1.79e+18 ...</span>
<span class="co">#&gt;   ..$ fvec    : num [1:10000] 1775.5 334.8 55.6 12.3 13.1 ...</span>
<span class="co">#&gt;   ..$ info    : int 1</span>
<span class="co">#&gt;   ..$ message : chr "Relative error in the sum of squares is at most `ftol'."</span>
<span class="co">#&gt;   ..$ diag    :List of 3</span>
<span class="co">#&gt;   .. ..$ : num 111237</span>
<span class="co">#&gt;   .. ..$ : num 3.7e+11</span>
<span class="co">#&gt;   .. ..$ : num 30452179</span>
<span class="co">#&gt;   ..$ niter   : int 23</span>
<span class="co">#&gt;   ..$ rsstrace: num [1:24] 3.74e+16 2.70e+16 1.14e+16 7.96e+15 1.60e+15 ...</span>
<span class="co">#&gt;   ..$ deviance: num 1.13e+10</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "nls.lm"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "hyperbolic" "decline"</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>))
<span class="co">#&gt; [1] "par"      "hessian"  "fvec"     "info"     "message"  "diag"     "niter"   </span>
<span class="co">#&gt; [8] "rsstrace" "deviance"</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">par</span>
<span class="co">#&gt; [1] 4.500476e+03 1.997477e-03 8.331131e-01</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">info</span>
<span class="co">#&gt; [1] 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">niter</span>
<span class="co">#&gt; [1] 23</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">deviance</span>
<span class="co">#&gt; [1] 11287411471</span>

<span class="no">dcl_predict_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_fit_hyp</span>, <span class="no">dcl_time_hyp</span>)

<span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(MSCF/day)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_hyp</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (days)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Rate (MSCF/day)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()</pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="arps-modified_hyperbolic-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#arps-modified_hyperbolic-examples" class="anchor"></a><code>Arps Modified_Hyperbolic Examples</code>
</h2>
<div id="example-1-3" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1-3" class="anchor"></a>Example 1:</h4>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggpubr</span>)

<span class="no">dcl_param_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"SI"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"modified_hyperbolic"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">1000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.0055</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">0.85</span>,
                               <span class="kw">Dt</span> <span class="kw">=</span> <span class="fl">0.0005</span>, <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="no">dcl_param_mod_hyp</span>
<span class="co">#&gt; $input_unit</span>
<span class="co">#&gt; [1] "SI"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $output_unit</span>
<span class="co">#&gt; [1] "Field"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fluid</span>
<span class="co">#&gt; [1] "oil"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qi</span>
<span class="co">#&gt; [1] 1000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Di</span>
<span class="co">#&gt; [1] 0.0055</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $b</span>
<span class="co">#&gt; [1] 0.85</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Dt</span>
<span class="co">#&gt; [1] 5e-04</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $q_abnd</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "modified_hyperbolic" "decline"</span>

<span class="no">decline_time_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2000/1/1"</span>), <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2030/12/31"</span>), <span class="st">"days"</span>),
                                 <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"date"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">decline_time_mod_hyp</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ t             : num [1:11323] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ unit          : chr "date"</span>
<span class="co">#&gt;  $ reference_date: Date[1:1], format: "2000-01-01"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "day" "time"</span>

<span class="no">decline_predict_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_mod_hyp</span>, <span class="no">decline_time_mod_hyp</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">decline_predict_mod_hyp</span>, <span class="fl">10</span>)
<span class="co">#&gt;          Date Time_(day) q_(bbl/day)   Q_(bbl)   D_(1/day) Beta</span>
<span class="co">#&gt; 1  2000-01-01          1    6255.395  6272.575 0.005474407 0.85</span>
<span class="co">#&gt; 2  2000-01-02          2    6221.323 12510.906 0.005449051 0.85</span>
<span class="co">#&gt; 3  2000-01-03          3    6187.593 18715.336 0.005423929 0.85</span>
<span class="co">#&gt; 4  2000-01-04          4    6154.199 24886.204 0.005399038 0.85</span>
<span class="co">#&gt; 5  2000-01-05          5    6121.138 31023.845 0.005374374 0.85</span>
<span class="co">#&gt; 6  2000-01-06          6    6088.403 37128.588 0.005349934 0.85</span>
<span class="co">#&gt; 7  2000-01-07          7    6055.991 43200.759 0.005325716 0.85</span>
<span class="co">#&gt; 8  2000-01-08          8    6023.897 49240.676 0.005301716 0.85</span>
<span class="co">#&gt; 9  2000-01-09          9    5992.116 55248.657 0.005277931 0.85</span>
<span class="co">#&gt; 10 2000-01-10         10    5960.643 61225.011 0.005254359 0.85</span>
<span class="co">#&gt;    time_abnd_(days) EUR_(bbl)</span>
<span class="co">#&gt; 1          7093.566   3316608</span>
<span class="co">#&gt; 2          7093.566   3316608</span>
<span class="co">#&gt; 3          7093.566   3316608</span>
<span class="co">#&gt; 4          7093.566   3316608</span>
<span class="co">#&gt; 5          7093.566   3316608</span>
<span class="co">#&gt; 6          7093.566   3316608</span>
<span class="co">#&gt; 7          7093.566   3316608</span>
<span class="co">#&gt; 8          7093.566   3316608</span>
<span class="co">#&gt; 9          7093.566   3316608</span>
<span class="co">#&gt; 10         7093.566   3316608</span>

<span class="no">time_abnd</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_mod_hyp</span>$<span class="no">`time_abnd_(days)`</span>[<span class="fl">1</span>]

<span class="no">EUR</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_mod_hyp</span>$<span class="no">`EUR_(bbl)`</span>[<span class="fl">1</span>]

<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_mod_hyp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(bbl/day)`</span>)) +
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(days)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">200</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">1000</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="fl">5</span> * <span class="fl">6.289814</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">8000</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">200</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"rate_abnd"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="no">decline_predict_mod_hyp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(day)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(bbl)`</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="no">`time_abnd_(days)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">time_abnd</span> + <span class="fl">200</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">3e6</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"time_abnd"</span>, <span class="kw">angle</span> <span class="kw">=</span> <span class="fl">90</span>,
           <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="no">`EUR_(bbl)`</span>), <span class="kw">linetype</span> <span class="kw">=</span> <span class="fl">2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span>(<span class="kw">geom</span> <span class="kw">=</span> <span class="st">"text"</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="fl">8000</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="fl">1.03</span> * <span class="no">EUR</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="st">"EUR"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">hyp_plots</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggpubr/man/ggarrange.html">ggarrange</a></span>(<span class="no">p1</span>, <span class="no">p2</span>, <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">align</span> <span class="kw">=</span> <span class="st">"v"</span>)

<span class="no">hyp_plots</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-10-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="example-2-3" class="section level4">
<h4 class="hasAnchor">
<a href="#example-2-3" class="anchor"></a>Example 2:</h4>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Rdca</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)

<span class="no">dcl_time_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_time.html">decline_time</a></span>(<span class="fl">1</span>:<span class="fl">300</span>, <span class="kw">unit</span> <span class="kw">=</span> <span class="st">"month"</span>)

<span class="no">dcl_param_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_param.html">decline_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>,
                               <span class="kw">model</span> <span class="kw">=</span> <span class="st">"modified_hyperbolic"</span>, <span class="kw">qi</span> <span class="kw">=</span> <span class="fl">8000</span>, <span class="kw">Di</span> <span class="kw">=</span> <span class="fl">0.04</span>, <span class="kw">b</span> <span class="kw">=</span> <span class="fl">0.75</span>,
                               <span class="kw">Dt</span> <span class="kw">=</span> <span class="fl">0.01</span>, <span class="kw">q_abnd</span> <span class="kw">=</span> <span class="fl">10</span>)

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">4321</span>)

<span class="no">prod_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_param_mod_hyp</span>, <span class="no">dcl_time_mod_hyp</span>)$<span class="no">`q_(bbl/month)`</span> +
  <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">300</span>, <span class="kw">mean</span> <span class="kw">=</span> <span class="fl">100</span>, <span class="kw">sd</span> <span class="kw">=</span> <span class="fl">50</span>)   <span class="co"># rate</span>

<span class="no">field_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">time</span> <span class="kw">=</span> <span class="no">dcl_time_mod_hyp</span>$<span class="no">t</span>, <span class="kw">q</span> <span class="kw">=</span> <span class="no">prod_data</span>, <span class="kw">Q</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span>(<span class="no">prod_data</span>))

<span class="no">dcl_fit_param_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit_param.html">decline_fit_param</a></span>(<span class="kw">input_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">output_unit</span> <span class="kw">=</span> <span class="st">"Field"</span>, <span class="kw">fluid</span> <span class="kw">=</span> <span class="st">"oil"</span>,
                              <span class="kw">model</span> <span class="kw">=</span> <span class="st">"modified_hyperbolic"</span>, <span class="kw">fit_data</span> <span class="kw">=</span> <span class="st">"cum"</span>, <span class="kw">prod_data</span> <span class="kw">=</span> <span class="no">field_data</span>$<span class="no">Q</span>,
                              <span class="kw">initial_param</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">10000</span>, <span class="fl">0.1</span>, <span class="fl">1.0</span>, <span class="fl">0.01</span>), <span class="kw">lower</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                              <span class="kw">upper</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="kw">control</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">maxiter</span> <span class="kw">=</span> <span class="fl">100</span>))

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_param_mod_hyp</span>)
<span class="co">#&gt; List of 10</span>
<span class="co">#&gt;  $ input_unit        : chr "Field"</span>
<span class="co">#&gt;  $ output_unit       : chr "Field"</span>
<span class="co">#&gt;  $ fluid             : chr "oil"</span>
<span class="co">#&gt;  $ model             : chr "modified_hyperbolic"</span>
<span class="co">#&gt;  $ fit_data          : chr "cum"</span>
<span class="co">#&gt;  $ prod_data         : num [1:300] 7770 15260 22528 29548 36281 ...</span>
<span class="co">#&gt;  $ initial_parameters: num [1:4] 1e+04 1e-01 1e+00 1e-02</span>
<span class="co">#&gt;  $ lower             : NULL</span>
<span class="co">#&gt;  $ upper             : NULL</span>
<span class="co">#&gt;  $ control           :List of 1</span>
<span class="co">#&gt;   ..$ maxiter: num 100</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "modified_hyperbolic_fit" "decline_fit"</span>

<span class="no">dcl_fit_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_fit.html">decline_fit</a></span>(<span class="no">dcl_fit_param_mod_hyp</span>, <span class="no">dcl_time_mod_hyp</span>)

<span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="no">dcl_fit_mod_hyp</span>)
<span class="co">#&gt; List of 7</span>
<span class="co">#&gt;  $ input_unit : chr "Field"</span>
<span class="co">#&gt;  $ output_unit: chr "Field"</span>
<span class="co">#&gt;  $ fluid      : chr "oil"</span>
<span class="co">#&gt;  $ qi         : num 7851</span>
<span class="co">#&gt;  $ Di         : num 0.0372</span>
<span class="co">#&gt;  $ b          : num 0.754</span>
<span class="co">#&gt;  $ Dt         : num 0.00829</span>
<span class="co">#&gt;  - attr(*, "nls.out")=List of 9</span>
<span class="co">#&gt;   ..$ par     : num [1:4] 7.85e+03 3.72e-02 7.54e-01 8.29e-03</span>
<span class="co">#&gt;   ..$ hessian : num [1:4, 1:4] 2.90e+11 -3.96e+16 1.18e+15 -1.51e+16 -3.96e+16 ...</span>
<span class="co">#&gt;   ..$ fvec    : num [1:300] 3749 13830 43206 85701 101751 ...</span>
<span class="co">#&gt;   ..$ info    : int 1</span>
<span class="co">#&gt;   ..$ message : chr "Relative error in the sum of squares is at most `ftol'."</span>
<span class="co">#&gt;   ..$ diag    :List of 4</span>
<span class="co">#&gt;   .. ..$ : num 7.5e+07</span>
<span class="co">#&gt;   .. ..$ : num 5.15e+12</span>
<span class="co">#&gt;   .. ..$ : num 2.29e+18</span>
<span class="co">#&gt;   .. ..$ : num 7.85e+12</span>
<span class="co">#&gt;   ..$ niter   : int 43</span>
<span class="co">#&gt;   ..$ rsstrace: num [1:44] 1.09e+22 1.84e+20 6.19e+18 2.93e+17 1.68e+16 ...</span>
<span class="co">#&gt;   ..$ deviance: num 6.81e+12</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr "nls.lm"</span>
<span class="co">#&gt;  - attr(*, "class")= chr [1:2] "modified_hyperbolic" "decline"</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>))
<span class="co">#&gt; [1] "par"      "hessian"  "fvec"     "info"     "message"  "diag"     "niter"   </span>
<span class="co">#&gt; [8] "rsstrace" "deviance"</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">par</span>
<span class="co">#&gt; [1] 7.851109e+03 3.717677e-02 7.543558e-01 8.294199e-03</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">info</span>
<span class="co">#&gt; [1] 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">niter</span>
<span class="co">#&gt; [1] 43</span>

<span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="kw">which</span> <span class="kw">=</span> <span class="st">"nls.out"</span>)$<span class="no">deviance</span>
<span class="co">#&gt; [1] 6.807705e+12</span>

<span class="no">dcl_predict_mod_hyp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/decline_predict.html">decline_predict</a></span>(<span class="no">dcl_fit_mod_hyp</span>, <span class="no">dcl_time_mod_hyp</span>)

<span class="no">p_cum</span> <span class="kw">&lt;-</span> <span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">Q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`Q_(bbl)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_mod_hyp</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (months)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Cumulative Production (bbl)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p_cum</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><html><body><pre class="r">
<span class="no">p_rate</span> <span class="kw">&lt;-</span> <span class="no">field_data</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">q</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="fl">21</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">3</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">`Time_(month)`</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">`q_(bbl/month)`</span>), <span class="kw">data</span> <span class="kw">=</span> <span class="no">dcl_predict_mod_hyp</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time (months)"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Production Rate (bbl/month)"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()

<span class="no">p_rate</span></pre></body></html></div>
<p><img src="Rdca_files/figure-html/unnamed-chunk-11-2.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a><code>References</code>
</h2>
<div id="refs" class="references">
<div id="ref-Arps1945">
<p>Arps, J. J. (1945). Analysis of Decline Curves. <em>Transactions of the AIME</em>, <em>160</em>(01), 228–247. <a href="https://doi.org/10.2118/945228-G">https://doi.org/10.2118/945228-G</a></p>
</div>
<div id="ref-Robertson1988">
<p>Robertson, S. (1988). <em>Generalized Hyperbolic Equation</em>. Society of Petroleum Engineers.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://susaenergy.com/">Farshad Tabasinejad</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
